+++
title = "æ¯æ—¥ä¸€é¢˜20250206-LC47"
author = ["Kidddddddd"]
date = 2025-02-06T15:27:00+08:00
lastmod = 2025-02-06T15:28:17+08:00
tags = ["backtracking"]
categories = ["Algorithm"]
draft = false
+++

## é¢˜ç›®ä¿¡æ¯ {#é¢˜ç›®ä¿¡æ¯}

é¢˜ç›®éš¾åº¦ï¼šmedium
æŒæ¡ç¨‹åº¦ï¼šğŸŒŸğŸŒŸğŸŒŸ

[47. å…¨æ’åˆ— II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/permutations-ii/description/)

>
>
> ç»™å®šä¸€ä¸ªå¯åŒ…å«é‡å¤æ•°å­—çš„åºåˆ— nums ï¼ŒæŒ‰ä»»æ„é¡ºåº è¿”å›æ‰€æœ‰ä¸é‡å¤çš„å…¨æ’åˆ—ã€‚
>
> ç¤ºä¾‹ 1ï¼š
>
> è¾“å…¥ï¼šnums = [1,1,2]
> è¾“å‡ºï¼š
> [[1,1,2],
>  [1,2,1],
>  [2,1,1]]
> ç¤ºä¾‹ 2ï¼š
>
> è¾“å…¥ï¼šnums = [1,2,3]
> è¾“å‡ºï¼š[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
>
> æç¤ºï¼š
>
> 1 &lt;= nums.length &lt;= 8
> -10 &lt;= nums[i] &lt;= 10


## è§£é¢˜æ€è·¯ {#è§£é¢˜æ€è·¯}

å›æº¯ï¼Œåœ¨å…¨æ’åˆ—çš„åŸºç¡€ä¸ŠåŠ äº†ä¸¤ä¸ªæ‰©å±•ï¼Œ

1.  è¾“å…¥æ•°å­—æœ‰é‡å¤
2.  ç»“æœéœ€è¦ä¸é‡å¤

éœ€è¦æƒ³åŠæ³•å»é‡ï¼Œæœ‰ä¸¤ä¸ªç­–ç•¥ï¼Œç›´æ¥æš´åŠ›å›æº¯ï¼Œç„¶åå¯¹ç»“æœç›´æ¥è¿›è¡Œä¸€æ¬¡å»é‡å³å¯

```java
class Solution {

    private Set<List<Integer>> res;

    private List<Integer> path;

    private boolean[] visited;

    public List<List<Integer>> permuteUnique(int[] nums) {
        res = new HashSet<>();
        path = new ArrayList<>();
        visited = new boolean[nums.length];
        backtrack(nums,nums.length);
        return new ArrayList<>(res);
    }

    private void backtrack(int[] nums,int n){
        if(path.size() == n){
            res.add(new ArrayList<>(path));
            return;
        }
        for(int i = 0 ; i < n ; i++){
            if(!visited[i]){
                path.add(nums[i]);
                visited[i] = true;
                backtrack(nums,n);
                visited[i] = false;
                path.remove(path.size()-1);
            }


        }
    }
}
```


## ä¼˜åŒ– {#ä¼˜åŒ–}

åœ¨ä¸ç”¨ set çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•å»é‡

å…ˆçœ‹çœ‹æ˜¯å¦‚ä½•é‡å¤çš„ æ¯”å¦‚ `[1,1,2]`, é‡å¤çš„è¯ï¼Œå°±ä¼šå‡ºç°ä¸¤ä¸ª `[1,1,2]`

è€ƒè™‘é‡å¤å…ƒç´ ä¸€å®šè¦ **ä¼˜å…ˆæ’åº** ï¼Œå°†é‡å¤çš„éƒ½æ”¾åœ¨ä¸€èµ·ï¼Œä¾¿äºæ‰¾åˆ°é‡å¤å…ƒç´ å’Œå‰ªæï¼ï¼ï¼

å½“å‰å…ƒç´ å’Œå‰ä¸€ä¸ªå…ƒç´ å€¼ç›¸åŒï¼ˆæ­¤å¤„éšå«è¿™ä¸ªå…ƒç´ çš„ index&gt;0 ï¼‰ï¼Œå¹¶ä¸”å‰ä¸€ä¸ªå…ƒç´ è¿˜æ²¡æœ‰è¢«ä½¿ç”¨è¿‡çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦å‰ªæ

å³

```java
if(visited[i] || (i > 0 && nums[i] == nums[i - 1] && !visited[i - 1]) ){
                continue;
}
```

æœ€åç­”æ¡ˆ

```java
class Solution {

    private List<List<Integer>> res;

    private List<Integer> path;

    private boolean[] visited;

    public List<List<Integer>> permuteUnique(int[] nums) {
        res = new ArrayList<>();
        path = new ArrayList<>();
        visited = new boolean[nums.length];
        Arrays.sort(nums);
        backtrack(nums,nums.length);
        return res;
    }

    private void backtrack(int[] nums,int n){
        if(path.size() == n){
            res.add(new ArrayList<>(path));
            return;
        }
        for(int i = 0 ; i < n ; i++){
            if(visited[i] || (i > 0 && nums[i] == nums[i - 1] && !visited[i - 1]) ){
                continue;
            }
                path.add(nums[i]);
                visited[i] = true;
                backtrack(nums,n);
                visited[i] = false;
                path.remove(path.size()-1);

        }
    }
}
```


## ç›¸å…³é¢˜ç›® {#ç›¸å…³é¢˜ç›®}

å›æº¯æ’åˆ—çš„åŸºç¡€é¢˜ç›®

[46. å…¨æ’åˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/permutations/description/)

å›æº¯ç»„åˆçš„åŸºç¡€é¢˜ç›®
[77. ç»„åˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/combinations/)

æ’åˆ—ä¸ç»„åˆçš„ä¸»è¦å·®å¼‚åœ¨äº

æ’åˆ—éœ€è¦ç»´æŠ¤ä¸€ä¸ª visited[] æ•°ç»„æ¥æ ‡è®°å½“å‰å…ƒç´ æ˜¯å¦å·²é€‰æ‹©ï¼Œç»„åˆéœ€è¦åœ¨å›æº¯è¿‡ç¨‹ä¸­ï¼Œæ§åˆ¶é€‰æ‹©åŒºé—´
